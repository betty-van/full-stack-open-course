{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Betty Van\\\\Documents\\\\Learn-Programming\\\\fullStackOpen\\\\full-stack-open-part-2-phonebook\\\\phonebook-app\\\\src\\\\components\\\\PersonForm.js\";\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\n\nconst PersonForm = props => {\n  // To add name\n  const addName = event => {\n    // No reload\n    event.preventDefault(); // Take out names into an array\n\n    const names = props.persons.map(person => person.name); // If name matches, then do not add to list\n\n    if (names.indexOf(props.newName) !== -1) {\n      alert(`${props.newName} already exists in the phonebook`);\n      props.setNewName('');\n      props.setNewNumber('');\n    } // If name does not exist, add to list\n    else if (names.indexOf(props.newName) === -1) {\n        const nameObject = {\n          name: props.newName,\n          id: props.persons.length + 1,\n          number: props.newNumber\n        };\n        useEffect(() => {\n          personsService.create(nameObject).then(response => {\n            props.setPersons(props.persons.concat(response.data));\n            props.setNewName('');\n            props.setNewNumber('');\n          });\n        }, []);\n        props.setPersons(props.persons.concat(nameObject));\n        props.setNewName('');\n        props.setNewNumber('');\n      }\n  };\n\n  const handleNameChange = event => {\n    props.setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    props.setNewNumber(event.target.value);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n    onSubmit: addName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"name: \", React.createElement(\"input\", {\n    value: props.newName,\n    onChange: handleNameChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"number: \", React.createElement(\"input\", {\n    value: props.newNumber,\n    onChange: handleNumberChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"add\"))));\n};\n\nexport default PersonForm;","map":{"version":3,"sources":["C:/Users/Betty Van/Documents/Learn-Programming/fullStackOpen/full-stack-open-part-2-phonebook/phonebook-app/src/components/PersonForm.js"],"names":["React","useEffect","axios","PersonForm","props","addName","event","preventDefault","names","persons","map","person","name","indexOf","newName","alert","setNewName","setNewNumber","nameObject","id","length","number","newNumber","personsService","create","then","response","setPersons","concat","data","handleNameChange","target","value","handleNumberChange"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAE1B;AACA,QAAMC,OAAO,GAAIC,KAAD,IAAW;AACvB;AACAA,IAAAA,KAAK,CAACC,cAAN,GAFuB,CAIvB;;AACA,UAAMC,KAAK,GAAGJ,KAAK,CAACK,OAAN,CAAcC,GAAd,CAAkBC,MAAM,IAAIA,MAAM,CAACC,IAAnC,CAAd,CALuB,CAOvB;;AACA,QAAIJ,KAAK,CAACK,OAAN,CAAcT,KAAK,CAACU,OAApB,MAAiC,CAAC,CAAtC,EAAyC;AACrCC,MAAAA,KAAK,CAAE,GAAEX,KAAK,CAACU,OAAQ,kCAAlB,CAAL;AACAV,MAAAA,KAAK,CAACY,UAAN,CAAiB,EAAjB;AACAZ,MAAAA,KAAK,CAACa,YAAN,CAAmB,EAAnB;AACH,KAJD,CAKA;AALA,SAMK,IAAIT,KAAK,CAACK,OAAN,CAAcT,KAAK,CAACU,OAApB,MAAiC,CAAC,CAAtC,EAAyC;AAC1C,cAAMI,UAAU,GAAG;AACfN,UAAAA,IAAI,EAAER,KAAK,CAACU,OADG;AAEfK,UAAAA,EAAE,EAAEf,KAAK,CAACK,OAAN,CAAcW,MAAd,GAAuB,CAFZ;AAGfC,UAAAA,MAAM,EAAEjB,KAAK,CAACkB;AAHC,SAAnB;AAMArB,QAAAA,SAAS,CAAC,MAAM;AACZsB,UAAAA,cAAc,CACTC,MADL,CACYN,UADZ,EAEKO,IAFL,CAEUC,QAAQ,IAAI;AACdtB,YAAAA,KAAK,CAACuB,UAAN,CAAiBvB,KAAK,CAACK,OAAN,CAAcmB,MAAd,CAAqBF,QAAQ,CAACG,IAA9B,CAAjB;AACAzB,YAAAA,KAAK,CAACY,UAAN,CAAiB,EAAjB;AACAZ,YAAAA,KAAK,CAACa,YAAN,CAAmB,EAAnB;AACH,WANL;AAOH,SARQ,EAQN,EARM,CAAT;AAWAb,QAAAA,KAAK,CAACuB,UAAN,CAAiBvB,KAAK,CAACK,OAAN,CAAcmB,MAAd,CAAqBV,UAArB,CAAjB;AACAd,QAAAA,KAAK,CAACY,UAAN,CAAiB,EAAjB;AACAZ,QAAAA,KAAK,CAACa,YAAN,CAAmB,EAAnB;AACH;AAGJ,GAtCD;;AAwCA,QAAMa,gBAAgB,GAAIxB,KAAD,IAAW;AAChCF,IAAAA,KAAK,CAACY,UAAN,CAAiBV,KAAK,CAACyB,MAAN,CAAaC,KAA9B;AACH,GAFD;;AAIA,QAAMC,kBAAkB,GAAI3B,KAAD,IAAW;AAClCF,IAAAA,KAAK,CAACa,YAAN,CAAmBX,KAAK,CAACyB,MAAN,CAAaC,KAAhC;AACH,GAFD;;AAIA,SACI,0CACI;AAAM,IAAA,QAAQ,EAAE3B,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACU;AAAO,IAAA,KAAK,EAAED,KAAK,CAACU,OAApB;AAA6B,IAAA,QAAQ,EAAEgB,gBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADV,CADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAa;AAAO,IAAA,KAAK,EAAE1B,KAAK,CAACkB,SAApB;AAA+B,IAAA,QAAQ,EAAEW,kBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAb,CAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,CALJ,CADJ,CADJ;AAaH,CAhED;;AAkEA,eAAe9B,UAAf","sourcesContent":["import React, { useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst PersonForm = (props) => {\r\n\r\n    // To add name\r\n    const addName = (event) => {\r\n        // No reload\r\n        event.preventDefault()\r\n        \r\n        // Take out names into an array\r\n        const names = props.persons.map(person => person.name)\r\n\r\n        // If name matches, then do not add to list\r\n        if (names.indexOf(props.newName) !== -1) {\r\n            alert(`${props.newName} already exists in the phonebook`)\r\n            props.setNewName('')\r\n            props.setNewNumber('')\r\n        }\r\n        // If name does not exist, add to list\r\n        else if (names.indexOf(props.newName) === -1) {\r\n            const nameObject = {\r\n                name: props.newName,\r\n                id: props.persons.length + 1,\r\n                number: props.newNumber\r\n            }\r\n\r\n            useEffect(() => {\r\n                personsService\r\n                    .create(nameObject)\r\n                    .then(response => {\r\n                        props.setPersons(props.persons.concat(response.data))\r\n                        props.setNewName('')\r\n                        props.setNewNumber('')\r\n                    })\r\n            }, [])\r\n\r\n\r\n            props.setPersons(props.persons.concat(nameObject))\r\n            props.setNewName('')\r\n            props.setNewNumber('')\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        props.setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        props.setNewNumber(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form onSubmit={addName}>\r\n                <div>\r\n                    name: <input value={props.newName} onChange={handleNameChange} />\r\n                </div>\r\n                <div>number: <input value={props.newNumber} onChange={handleNumberChange} /></div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PersonForm"]},"metadata":{},"sourceType":"module"}